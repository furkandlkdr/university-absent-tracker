import{_ as Se}from"./DslZ-RwP.js";import{g as Te,A as We,l as Ee,r as d,z as q,j as Be,c as l,q as W,x as s,a,b as ie,w as de,t as u,d as k,k as Ne,C as z,F as E,B,p as Re,o as i}from"./DzMhsBOq.js";import{o as Oe}from"./DAYqTXF3.js";import{b as K,a as N,c as R,d as He,u as Ae,p as L,e as $e,f as j}from"./D-snf7s6.js";import{u as Le}from"./DBcKAFuA.js";const je={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yarım dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yaklaşık 1 saat",other:"yaklaşık {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 gün",other:"{{count}} gün"},aboutXWeeks:{one:"yaklaşık 1 hafta",other:"yaklaşık {{count}} hafta"},xWeeks:{one:"1 hafta",other:"{{count}} hafta"},aboutXMonths:{one:"yaklaşık 1 ay",other:"yaklaşık {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yaklaşık 1 yıl",other:"yaklaşık {{count}} yıl"},xYears:{one:"1 yıl",other:"{{count}} yıl"},overXYears:{one:"1 yıldan fazla",other:"{{count}} yıldan fazla"},almostXYears:{one:"neredeyse 1 yıl",other:"neredeyse {{count}} yıl"}},Ge=(g,C,b)=>{let h;const v=je[g];return typeof v=="string"?h=v:C===1?h=v.one:h=v.other.replace("{{count}}",C.toString()),b!=null&&b.addSuffix?b.comparison&&b.comparison>0?h+" sonra":h+" önce":h},Ve={full:"d MMMM y EEEE",long:"d MMMM y",medium:"d MMM y",short:"dd.MM.yyyy"},Fe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ie={full:"{{date}} 'saat' {{time}}",long:"{{date}} 'saat' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ue={date:K({formats:Ve,defaultWidth:"full"}),time:K({formats:Fe,defaultWidth:"full"}),dateTime:K({formats:Ie,defaultWidth:"full"})},Xe={lastWeek:"'geçen hafta' eeee 'saat' p",yesterday:"'dün saat' p",today:"'bugün saat' p",tomorrow:"'yarın saat' p",nextWeek:"eeee 'saat' p",other:"P"},Ye=(g,C,b,h)=>Xe[g],qe={narrow:["MÖ","MS"],abbreviated:["MÖ","MS"],wide:["Milattan Önce","Milattan Sonra"]},Ke={narrow:["1","2","3","4"],abbreviated:["1Ç","2Ç","3Ç","4Ç"],wide:["İlk çeyrek","İkinci Çeyrek","Üçüncü çeyrek","Son çeyrek"]},Qe={narrow:["O","Ş","M","N","M","H","T","A","E","E","K","A"],abbreviated:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],wide:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"]},Je={narrow:["P","P","S","Ç","P","C","C"],short:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],abbreviated:["Paz","Pzt","Sal","Çar","Per","Cum","Cts"],wide:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},Ze={narrow:{am:"öö",pm:"ös",midnight:"gy",noon:"ö",morning:"sa",afternoon:"ös",evening:"ak",night:"ge"},abbreviated:{am:"ÖÖ",pm:"ÖS",midnight:"gece yarısı",noon:"öğle",morning:"sabah",afternoon:"öğleden sonra",evening:"akşam",night:"gece"},wide:{am:"Ö.Ö.",pm:"Ö.S.",midnight:"gece yarısı",noon:"öğle",morning:"sabah",afternoon:"öğleden sonra",evening:"akşam",night:"gece"}},ea={narrow:{am:"öö",pm:"ös",midnight:"gy",noon:"ö",morning:"sa",afternoon:"ös",evening:"ak",night:"ge"},abbreviated:{am:"ÖÖ",pm:"ÖS",midnight:"gece yarısı",noon:"öğlen",morning:"sabahleyin",afternoon:"öğleden sonra",evening:"akşamleyin",night:"geceleyin"},wide:{am:"ö.ö.",pm:"ö.s.",midnight:"gece yarısı",noon:"öğlen",morning:"sabahleyin",afternoon:"öğleden sonra",evening:"akşamleyin",night:"geceleyin"}},aa=(g,C)=>Number(g)+".",ta={ordinalNumber:aa,era:N({values:qe,defaultWidth:"wide"}),quarter:N({values:Ke,defaultWidth:"wide",argumentCallback:g=>Number(g)-1}),month:N({values:Qe,defaultWidth:"wide"}),day:N({values:Je,defaultWidth:"wide"}),dayPeriod:N({values:Ze,defaultWidth:"wide",formattingValues:ea,defaultFormattingWidth:"wide"})},ra=/^(\d+)(\.)?/i,sa=/\d+/i,na={narrow:/^(mö|ms)/i,abbreviated:/^(mö|ms)/i,wide:/^(milattan önce|milattan sonra)/i},oa={any:[/(^mö|^milattan önce)/i,/(^ms|^milattan sonra)/i]},la={narrow:/^[1234]/i,abbreviated:/^[1234]ç/i,wide:/^((i|İ)lk|(i|İ)kinci|üçüncü|son) çeyrek/i},ia={any:[/1/i,/2/i,/3/i,/4/i],abbreviated:[/1ç/i,/2ç/i,/3ç/i,/4ç/i],wide:[/^(i|İ)lk çeyrek/i,/(i|İ)kinci çeyrek/i,/üçüncü çeyrek/i,/son çeyrek/i]},da={narrow:/^[oşmnhtaek]/i,abbreviated:/^(oca|şub|mar|nis|may|haz|tem|ağu|eyl|eki|kas|ara)/i,wide:/^(ocak|şubat|mart|nisan|mayıs|haziran|temmuz|ağustos|eylül|ekim|kasım|aralık)/i},ua={narrow:[/^o/i,/^ş/i,/^m/i,/^n/i,/^m/i,/^h/i,/^t/i,/^a/i,/^e/i,/^e/i,/^k/i,/^a/i],any:[/^o/i,/^ş/i,/^mar/i,/^n/i,/^may/i,/^h/i,/^t/i,/^ağ/i,/^ey/i,/^ek/i,/^k/i,/^ar/i]},ca={narrow:/^[psçc]/i,short:/^(pz|pt|sa|ça|pe|cu|ct)/i,abbreviated:/^(paz|pzt|sal|çar|per|cum|cts)/i,wide:/^(pazar(?!tesi)|pazartesi|salı|çarşamba|perşembe|cuma(?!rtesi)|cumartesi)/i},ma={narrow:[/^p/i,/^p/i,/^s/i,/^ç/i,/^p/i,/^c/i,/^c/i],any:[/^pz/i,/^pt/i,/^sa/i,/^ça/i,/^pe/i,/^cu/i,/^ct/i],wide:[/^pazar(?!tesi)/i,/^pazartesi/i,/^salı/i,/^çarşamba/i,/^perşembe/i,/^cuma(?!rtesi)/i,/^cumartesi/i]},ga={narrow:/^(öö|ös|gy|ö|sa|ös|ak|ge)/i,any:/^(ö\.?\s?[ös]\.?|öğleden sonra|gece yarısı|öğle|(sabah|öğ|akşam|gece)(leyin))/i},ya={any:{am:/^ö\.?ö\.?/i,pm:/^ö\.?s\.?/i,midnight:/^(gy|gece yarısı)/i,noon:/^öğ/i,morning:/^sa/i,afternoon:/^öğleden sonra/i,evening:/^ak/i,night:/^ge/i}},ka={ordinalNumber:He({matchPattern:ra,parsePattern:sa,valueCallback:function(g){return parseInt(g,10)}}),era:R({matchPatterns:na,defaultMatchWidth:"wide",parsePatterns:oa,defaultParseWidth:"any"}),quarter:R({matchPatterns:la,defaultMatchWidth:"wide",parsePatterns:ia,defaultParseWidth:"any",valueCallback:g=>g+1}),month:R({matchPatterns:da,defaultMatchWidth:"wide",parsePatterns:ua,defaultParseWidth:"any"}),day:R({matchPatterns:ca,defaultMatchWidth:"wide",parsePatterns:ma,defaultParseWidth:"any"}),dayPeriod:R({matchPatterns:ga,defaultMatchWidth:"any",parsePatterns:ya,defaultParseWidth:"any"})},ba={code:"tr",formatDistance:Ge,formatLong:Ue,formatRelative:Ye,localize:ta,match:ka,options:{weekStartsOn:1,firstWeekContainsDate:1}},ha={class:"py-6"},va={key:0,class:"flex justify-center items-center py-10"},pa={key:1,class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 text-center"},fa={key:2},xa={class:"flex flex-col md:flex-row md:items-center md:justify-between mb-6"},wa={class:"text-2xl font-bold"},Ma={class:"text-gray-600 dark:text-gray-400"},za={class:"mt-4 md:mt-0 flex flex-wrap gap-2"},Ca={class:"space-y-6"},Pa={class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm"},_a={class:"flex items-center justify-center"},Da=["disabled"],Sa={class:"relative mx-4"},Ta=["onClick"],Wa=["disabled"],Ea={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow"},Ba={class:"p-4"},Na={class:"space-y-4"},Ra={class:"text-sm font-medium mb-2"},Oa={class:"space-y-2"},Ha={class:"mb-2 sm:mb-0"},Aa={class:"font-medium"},$a={class:"text-xs text-gray-500 dark:text-gray-400"},La={key:0,class:"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 text-sm px-3 py-1 rounded-md inline-block"},ja={key:1,class:"bg-white border border-dashed border-gray-300 dark:border-gray-600 text-gray-500 dark:text-gray-400 text-sm px-3 py-1 rounded-md inline-block"},Ga={key:2,class:"flex space-x-2"},Va=["disabled","onTouchstart","onMousedown","onClick"],Fa={key:1,class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 text-center"},Ia={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},Ua={class:"overflow-x-auto"},Xa={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Ya={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},qa={key:0,class:"mt-6 p-3 bg-red-100 dark:bg-red-900 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 rounded-md"},Ka={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-md w-full mx-4 mb-4 relative"},Qa={class:"p-5"},Ja={class:"mb-4 text-gray-700 dark:text-gray-300"},Za={class:"flex justify-end space-x-3 mt-6"},et=["disabled"],at=600,lt=Te({__name:"[id]",setup(g){const C=We(),b=Ee();Le();const{getTerm:h,getAttendanceRecords:v,updateAttendanceStatus:ue,bulkUpdateAttendance:ce,getTermStatistics:G,generateTermCalendar:me}=Ae(),x=d(C.params.id),V=d(!0),o=d(null),w=d([]),F=d([]),P=d([]),D=d([]),S=d(null),y=d(1),_=d(!1),Q=d(null);Oe(Q,()=>{_.value=!1});let T=null;const O=d(!1),H=d(!1),p=d({termId:"",courseName:"",targetWeek:0,newStatus:""}),I=d(!1),J=d(""),Z=d("success"),U=d(null),ee=q(()=>{if(!P.value||!P.value.length)return null;const t=y.value-1;return t>=0&&t<P.value.length?P.value[t]:null});Be(async()=>{V.value=!0;try{const t=await h(x.value);o.value=t,o.value&&(w.value=await v(x.value),F.value=me(o.value),be(),D.value=G(o.value,w.value),he(),S.value&&(y.value=S.value))}catch(t){console.error("Error fetching term data:",t)}finally{V.value=!1}});const ae=t=>{const e=y.value+t;e>=1&&e<=M.value&&(y.value=e,_.value=!1)},ge=t=>{y.value=t,_.value=!1},te=t=>{if(!o.value)return"";const e=L(o.value.startDate),r=$e(e,t-1),n=new Date(r);return n.setDate(r.getDate()+6),`${j(r,"dd.MM")}-${j(n,"dd.MM")}`},ye=t=>{try{return j(L(t),"dd.MM.yyyy")}catch{return t}},ke=t=>{try{return j(L(t),"EEEE, d MMMM",{locale:ba})}catch{return t}},be=()=>{if(!F.value.length)return;const t=[...F.value].sort((c,m)=>c.date.localeCompare(m.date)),e=[];let r=1,n=[];t.forEach(c=>{c.weekNumber>r&&(e.push(re(n)),n=[],r=c.weekNumber),n.push(c)}),n.length>0&&e.push(re(n)),P.value=e},re=t=>{const e={};return t.forEach(r=>{e[r.date]||(e[r.date]=[]),e[r.date].push(r)}),Object.entries(e).map(([r,n])=>n).sort((r,n)=>r[0].date.localeCompare(n[0].date))},he=()=>{if(!o.value)return null;const t=L(o.value.startDate),r=Math.abs(new Date().getTime()-t.getTime()),n=Math.floor(r/(1e3*60*60*24)),c=Math.floor(n/7)+1;c>0&&c<=M.value?S.value=c:c>M.value?S.value=M.value:S.value=null},ve=t=>({morning1:"Öğleden Önce - 1. Slot",morning2:"Öğleden Önce - 2. Slot",morningExtra1:"Öğleden Önce - 3. Slot",morningExtra2:"Öğleden Önce - 4. Slot",morningExtra3:"Öğleden Önce - 5. Slot",afternoon1:"Öğleden Sonra - 1. Slot",afternoon2:"Öğleden Sonra - 2. Slot",afternoonExtra1:"Öğleden Sonra - 3. Slot",afternoonExtra2:"Öğleden Sonra - 4. Slot",afternoonExtra3:"Öğleden Sonra - 5. Slot"})[t]||t,se=t=>{const e=w.value.find(r=>r.courseName===t.courseName&&r.date===t.date);return e?e.status:null},pe=async(t,e)=>{if(!(!o.value||o.value.isReadOnly))try{(await ue({termId:x.value,courseName:t.courseName,date:t.date,status:e,weekNumber:t.weekNumber})).success&&(w.value=await v(x.value),D.value=G(o.value,w.value))}catch(r){console.error("Error updating attendance:",r)}},ne=(t,e)=>t==="Gittim"?e?"bg-green-500 text-white":"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":t==="Gitmedim"?e?"bg-red-500 text-white":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300":e?"bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",fe=q(()=>D.value.some(t=>t.isAtRisk)),xe=()=>{!o.value||o.value.isReadOnly||b.push({path:"/dashboard",query:{action:"edit",termId:x.value}})},M=q(()=>{var t;return(t=o.value)!=null&&t.weekCount?o.value.weekCount:o.value&&P.value.length||14}),we=(t,e,r)=>{le(e,r)},oe=()=>{A()},Me=()=>{A()},ze=(t,e,r)=>{t.button===0&&le(e,r)},Ce=()=>{A()},Pe=()=>{A()},le=(t,e)=>{var r;T||!t.isPast||(r=o.value)!=null&&r.isReadOnly||(T=setTimeout(()=>{_e(t.courseName,t.weekNumber,e)},at))},A=()=>{T&&(clearTimeout(T),T=null)},_e=(t,e,r)=>{p.value={termId:x.value,courseName:t,targetWeek:e,newStatus:r},O.value=!0},X=()=>{O.value=!1},De=async()=>{H.value=!0;try{const t=await ce(p.value.termId,p.value.courseName,p.value.targetWeek,p.value.newStatus);if(t.success){let e="";const r="createdCount"in t?t.createdCount:0;t.updatedCount>0&&r>0?e=`${t.updatedCount} kayıt güncellendi, ${r} yeni kayıt oluşturuldu.`:t.updatedCount>0?e=`${t.updatedCount} kayıt başarıyla güncellendi.`:r>0?e=`${r} yeni kayıt başarıyla oluşturuldu.`:e="İşlem tamamlandı, ancak hiçbir değişiklik yapılmadı.",Y(e,"success"),w.value=await v(x.value),o.value&&(D.value=G(o.value,w.value)),O.value=!1}else Y(`Güncelleme başarısız: ${t.error}`,"error")}catch(t){Y(`Bir hata oluştu: ${t.message}`,"error")}finally{H.value=!1}},Y=(t,e)=>{U.value&&clearTimeout(U.value),J.value=t,Z.value=e,I.value=!0,U.value=setTimeout(()=>{I.value=!1},6e3)};return(t,e)=>{const r=Se;return i(),l("div",ha,[s(V)?(i(),l("div",va,e[3]||(e[3]=[a("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"},null,-1)]))):s(o)?(i(),l("div",fa,[a("div",xa,[a("div",null,[a("h1",wa,u(s(o).name),1),a("p",Ma,[a("span",null,"Başlangıç Tarihi: "+u(ye(s(o).startDate)),1)])]),a("div",za,[ie(r,{to:"/dashboard",class:"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 px-4 py-2 rounded-md text-sm flex items-center"},{default:de(()=>e[6]||(e[6]=[a("span",{class:"mr-1"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})])],-1),k(" Dönemlerim'e Dön ")])),_:1}),s(o).isReadOnly?W("",!0):(i(),l("button",{key:0,onClick:xe,class:"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 px-4 py-2 rounded-md text-sm flex items-center"},e[7]||(e[7]=[a("span",{class:"mr-1"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])],-1),k(" Dönemi Düzenle ")])))])]),a("div",Ca,[e[15]||(e[15]=Ne('<div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm"><h3 class="text-sm font-medium mb-2">Devamsızlık Durumu</h3><div class="flex flex-wrap gap-3"><div class="flex items-center"><span class="w-4 h-4 bg-green-500 rounded-full mr-2"></span><span class="text-sm">Gittim</span></div><div class="flex items-center"><span class="w-4 h-4 bg-red-500 rounded-full mr-2"></span><span class="text-sm">Gitmedim</span></div><div class="flex items-center"><span class="w-4 h-4 bg-gray-300 dark:bg-gray-600 rounded-full mr-2"></span><span class="text-sm">Tatil / Ders Yok</span></div><div class="flex items-center"><span class="w-4 h-4 bg-white border border-dashed border-gray-300 dark:border-gray-600 rounded-full mr-2"></span><span class="text-sm">İşaretlenmedi</span></div><div class="flex items-center"><span class="w-4 h-4 bg-gray-200 dark:bg-gray-700 rounded-full mr-2"></span><span class="text-sm">Ders henüz başlamamış</span></div></div></div><div class="bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-lg p-4 text-sm flex items-start shadow-sm border border-blue-200 dark:border-blue-800"><div class="flex-shrink-0 mt-0.5"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1v-3a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg></div><div class="ml-2"><strong>Toplu Devamsızlık Güncelleme!</strong> Bir duruma (Gittim/Gitmedim/Tatil) <strong>uzun basarak</strong>, ilgili dersin önceki haftalarını topluca güncelleyebilirsiniz. İşaretlenmemiş haftalar için otomatik olarak yeni kayıtlar oluşturulur, var olan kayıtlar ise güncellenir (tatiller korunur). </div></div>',2)),a("div",Pa,[a("div",_a,[a("button",{onClick:e[0]||(e[0]=n=>ae(-1)),disabled:s(y)<=1,class:z(["p-2 rounded-md",s(y)<=1?"text-gray-400 dark:text-gray-600 cursor-not-allowed":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"])},e[8]||(e[8]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),10,Da),a("div",Sa,[a("button",{onClick:e[1]||(e[1]=n=>_.value=!s(_)),class:"bg-primary-50 dark:bg-primary-900 text-primary-600 dark:text-primary-300 px-4 py-2 rounded-md font-medium flex items-center"},[k(u(s(y))+". Hafta - "+u(te(s(y)))+" ",1),e[9]||(e[9]=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),s(_)?(i(),l("div",{key:0,class:"absolute z-10 mt-1 py-1 bg-white dark:bg-gray-800 rounded-md shadow-lg max-h-60 overflow-y-auto w-full border border-gray-200 dark:border-gray-700",ref_key:"weekDropdownRef",ref:Q},[(i(!0),l(E,null,B(s(M),n=>(i(),l("button",{key:n,onClick:c=>ge(n),class:z(["w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700",n===s(y)?"bg-primary-50 dark:bg-primary-900 text-primary-600 dark:text-primary-300":"text-gray-700 dark:text-gray-300"])},u(n)+". Hafta - "+u(te(n)),11,Ta))),128))],512)):W("",!0)]),a("button",{onClick:e[2]||(e[2]=n=>ae(1)),disabled:s(y)>=s(M),class:z(["p-2 rounded-md",s(y)>=s(M)?"text-gray-400 dark:text-gray-600 cursor-not-allowed":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"])},e[10]||(e[10]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),10,Wa)])]),s(ee)?(i(),l("div",Ea,[a("div",Ba,[a("div",Na,[(i(!0),l(E,null,B(s(ee),(n,c)=>(i(),l("div",{key:c,class:"border-b border-gray-100 dark:border-gray-700 last:border-0 pb-4 last:pb-0"},[a("h4",Ra,u(ke(n[0].date)),1),a("div",Oa,[(i(!0),l(E,null,B(n,m=>(i(),l("div",{key:`${m.date}-${m.courseName}-${m.timeSlot}`,class:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-md"},[a("div",Ha,[a("p",Aa,u(m.courseName),1),a("p",$a,u(ve(m.timeSlot)),1)]),a("div",null,[m.isPast?s(o).isReadOnly&&!se(m)?(i(),l("div",ja," İşaretlenmedi ")):(i(),l("div",Ga,[(i(),l(E,null,B(["Gittim","Gitmedim","Tatil / Ders Yok"],f=>a("button",{key:f,class:z(["text-sm px-3 py-1 rounded-md",se(m)===f?ne(f,!0):ne(f,!1),s(o).isReadOnly?"cursor-not-allowed opacity-75":"cursor-pointer hover:opacity-90"]),disabled:s(o).isReadOnly,onTouchstart:$=>!s(o).isReadOnly&&we($,m,f),onTouchend:oe,onTouchmove:Me,onTouchcancel:oe,onMousedown:$=>!s(o).isReadOnly&&ze($,m,f),onMouseup:Ce,onMouseleave:Pe,onClick:$=>!s(o).isReadOnly&&pe(m,f)},u(f),43,Va)),64))])):(i(),l("div",La," Gelecek Tarihi "))])]))),128))])]))),128))])])])):(i(),l("div",Fa,e[11]||(e[11]=[a("p",{class:"text-gray-600 dark:text-gray-400"},"Bu haftada ders bulunmamaktadır.",-1)]))),a("div",Ia,[e[14]||(e[14]=a("h3",{class:"text-lg font-medium mb-4"},"Devamsızlık Özeti",-1)),a("div",Ua,[a("table",Xa,[e[12]||(e[12]=a("thead",null,[a("tr",null,[a("th",{class:"px-6 py-3 bg-gray-50 dark:bg-gray-900 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Ders Adı "),a("th",{class:"px-6 py-3 bg-gray-50 dark:bg-gray-900 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"}," Devamsızlık Durumu ")])],-1)),a("tbody",Ya,[(i(!0),l(E,null,B(s(D),n=>(i(),l("tr",{key:n.name},[a("td",{class:z(["px-6 py-4 whitespace-nowrap text-sm font-medium",n.isAtRisk?"text-red-600 dark:text-red-400":""])},u(n.name),3),a("td",{class:z(["px-6 py-4 whitespace-nowrap text-sm",n.isAtRisk?"text-red-600 dark:text-red-400":""])},u(n.absences)+" / "+u(n.availableWeeks),3)]))),128))])])]),s(fe)?(i(),l("div",qa,e[13]||(e[13]=[a("p",{class:"text-sm"},[a("strong",null,"Uyarı:"),k(" Kırmızı renkli dersler devamsızlık limitine yaklaşıyor veya aşmış durumda. ")],-1)]))):W("",!0)])])])):(i(),l("div",pa,[e[5]||(e[5]=a("p",{class:"text-gray-600 dark:text-gray-400 mb-6"}," Dönem bulunamadı veya erişim izniniz yok. ",-1)),ie(r,{to:"/dashboard",class:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md"},{default:de(()=>e[4]||(e[4]=[k(" Dönemlerim'e Dön ")])),_:1})])),s(O)?(i(),l("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",onClick:Re(X,["self"])},[a("div",Ka,[a("button",{onClick:X,class:"absolute top-3 right-3 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},e[16]||(e[16]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),e[21]||(e[21]=a("div",{class:"p-5 border-b border-gray-200 dark:border-gray-700"},[a("h3",{class:"text-lg font-semibold"},"Toplu Güncelleme")],-1)),e[22]||(e[22]=k()),a("div",Qa,[a("p",Ja,[a("strong",null,u(s(p).courseName),1),e[17]||(e[17]=k(" dersinin ilk ")),a("strong",null,u(s(p).targetWeek),1),e[18]||(e[18]=k(" haftasına ait devam durumlarını (tatiller hariç) '")),a("strong",null,u(s(p).newStatus),1),e[19]||(e[19]=k("' olarak güncellemek istediğinize emin misiniz? "))]),e[20]||(e[20]=a("p",{class:"text-sm text-blue-600 dark:text-blue-400 mb-4"},[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1v-3a1 1 0 00-1-1z","clip-rule":"evenodd"})]),k(" Henüz işaretlenmemiş haftalar için otomatik olarak yeni kayıtlar oluşturulacaktır. ")],-1)),a("div",Za,[a("button",{onClick:X,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700"}," İptal "),a("button",{onClick:De,disabled:s(H),class:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md disabled:opacity-50"},u(s(H)?"Güncelleniyor...":"Güncelle"),9,et)])])])])):W("",!0),s(I)?(i(),l("div",{key:4,class:z(["fixed bottom-4 right-4 p-3 rounded-md shadow-lg z-50 transition-opacity duration-300",[s(Z)==="success"?"bg-green-500 text-white":"bg-red-500 text-white"]])},u(s(J)),3)):W("",!0)])}}});export{lt as default};
